import{jsx as e,jsxs as a}from"react/jsx-runtime";import t from"moment";import*as s from"react";const n=a=>e("svg",Object.assign({width:6,height:10,fill:"none",xmlns:"http://www.w3.org/2000/svg"},a,{children:e("path",{d:"M5 1 1 5l4 4",stroke:"#9CA3AF",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"})})),i=({renderDay:i=!1,renderDayContent:d=!1,renderEvent:r=!1,holidays:l=[],defaultSelected:o,eventType:c="Dots",events:f=[],prefixID:m="HREVC",defaultDayFormater:y="DD",dateFormat:u="MMM YYYY",date:h=t(),displayWeek:v=!0,prevBtn:D=!1,nextBtn:p=!1,headerType:g="EvenSpread",onClickDay:b=(()=>{})})=>{const[Y,M]=s.useState([]),[x,O]=s.useState([]),[S,k]=s.useState(t(o)),[j,N]=s.useState(),[w,C]=s.useState(),[F,E]=s.useState(t(h)),T=t();s.useEffect((()=>{if(l.length){var e=[...l].map((e=>t(e).format("YYYY-MM-DD")));O(e)}}),[l]),s.useEffect((()=>{var e=t(h);F&&e.isSame(F.clone())&&E(e)}),[h]),s.useEffect((()=>{F&&(N(F.clone().startOf("month").startOf("week")),C(F.clone().endOf("month").endOf("week")))}),[F]),s.useEffect((()=>{if(!j)return;let e=j.clone().subtract(1,"day");for(var a=[];e.isBefore(w,"day");){var t={days:Array(7).fill(0).map((()=>e.add(1,"day").clone()))};a.push(t)}M([...a])}),[j,w]);const H=e=>e.slice(0,1),$=()=>e("div",Object.assign({className:"flex items-center prev-btn",onClick:()=>{E(F.clone().subtract(1,"month"))}},{children:"function"==typeof D?D():e(n,{})})),A=()=>e("div",Object.assign({className:"flex items-center next-btn",onClick:()=>{E(F.clone().add(1,"month"))}},{children:"function"==typeof p?p():e(n,{className:"rotate-180"})})),B=()=>a("div",Object.assign({className:"flex header"},{children:[e("div",Object.assign({className:"current-date"},{children:F.format(u)})),a("div",Object.assign({className:"flex"},{children:[$(),A()]}))]})),L=()=>a("div",Object.assign({className:"flex header"},{children:[$(),e("div",Object.assign({className:"current-date"},{children:F.format(u)})),A()]})),W=({isToday:s,defaultFormatedDay:n,day:i,isSelectedDay:l,isSameMonth:o,isHoliday:f,events:y=[],index:u})=>{var h;return e("div",Object.assign({id:m+t(i).format("MM-DD"),className:`day-block cursor-pointer            ${s?"current-day":""}            ${l?"selected-day":""}            ${o?"":"another-month-day"}            ${f?"holiday":""}            ${y.length?"has-events":""}\n        `,style:"Fill"===c?{background:null===(h=y[0])||void 0===h?void 0:h.color}:void 0,onClick:()=>{k(i),b(i)}},{children:a("div",Object.assign({className:"day"},{children:["function"==typeof d?d({isToday:s,defaultFormatedDay:n,day:i,isSelectedDay:l,isSameMonth:o,isHoliday:f,events:y,index:u}):n,"function"!=typeof d&&y.length>0&&"Dots"===c?e("div",Object.assign({className:"flex events-container"},{children:y.map(((a,t)=>"function"==typeof r?r(a,t):((a,t)=>{var{color:s}=a;return e("div",{className:"dot",style:{backgroundColor:s}},t)})(a,t)))})):null]}))}),u)},I=(a,s)=>{var n=t(a),d=n.format("YYYY-MM-DD"),r=n.format(y),l=T.format("YYYY-MM-DD")===d,o=x.includes(d),c=f.filter((e=>t(e.date).format("YYYY-MM-DD")===d)),u={isToday:l,defaultFormatedDay:r,day:a,isSelectedDay:!!S&&t(S).format("YYYY-MM-DD")===d,isSameMonth:F.isSame(a,"month"),isHoliday:o,events:c,index:s};return"function"==typeof i?(({isToday:a,defaultFormatedDay:s,day:n,isSelectedDay:d,isSameMonth:r,isHoliday:l,events:o=[],index:c})=>e("div",Object.assign({id:m+t(n).format("MM-DD"),onClick:()=>{k(n),b(n)}},{children:"function"==typeof i?i({isToday:a,defaultFormatedDay:s,day:n,isSelectedDay:d,isSameMonth:r,isHoliday:l,events:o,index:c}):null}),c))(u):W(u)};return a("div",Object.assign({className:"flex-col calender"},{children:["EvenSpread"===g?L():B(),v?(R=t.weekdays(!0),e("div",Object.assign({className:"flex weeks"},{children:R.map(((a,t)=>e("div",Object.assign({className:"week-day-block"},{children:H(a)}),t)))}))):null,e("div",Object.assign({className:"flex flex-col dates"},{children:Y.map(((a,t)=>{var{days:s}=a;return e("div",Object.assign({className:"flex week"},{children:s.map(((e,a)=>I(e,a)))}),t)}))}))]}));var R};export{i as Calendar};
//# sourceMappingURL=index.js.map
